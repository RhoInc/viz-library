<html lang="en"><head>
  <title>Safety Explorer with Query Data</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

<body style="padding:1em;">
	<span style="position:absolute;top:1em;right:1em;">
		<a href="../../">üè†</a>
	</span>
	<div class="header section"><h1 style="margin-bottom: 0.1em;">Safety Explorer with Query Data</h1><div style="margin-bottom: 0.5em;">The safety explorer is a collection of interactive graphics visualizing adverse event, lab, and vital sign data captured in clinical trials.  This instance demonstrates customized versions of each graphic including added filters and/or highlights for query data.</div></div>
	<div class="chart section"><iframe sandbox="allow-popups allow-scripts allow-forms allow-same-origin allow-top-navigation" src="ae-table/index.html" marginwidth="0" marginheight="0" style="height:600px; width:960px;"></iframe></div>	
	<div class="details section"><div><div style="display:inline-block; padding-right:1em;"><span class="label" style="font-size: 0.7em; color: rgb(170, 170, 170);" padding-right="0.2em">Languages&nbsp;</span><span>javascript</span></div><div style="display:inline-block; padding-right:1em;"><span class="label" style="font-size: 0.7em; color: rgb(170, 170, 170);" padding-right="0.2em">Libraries&nbsp;</span><span>webcharts, safety-histogram, safety-results-over-time, safety-shift-plot, safety-outlier-explorer, ae-timeline, ae-explorer</span></div><div style="display:inline-block; padding-right:1em;"><span class="label" style="font-size: 0.7em; color: rgb(170, 170, 170);" padding-right="0.2em">Tags&nbsp;</span><span>interactive, webcharts, adverse events, safety explorer, queries</span></div><div style="display:inline-block; padding-right:1em;"><span class="label" style="font-size: 0.7em; color: rgb(170, 170, 170);" padding-right="0.2em">Data&nbsp;</span><span><a href="../0000-sample-data/safetyData-queries/">../0000-sample-data/safetyData-queries/</a></span></div><div style="display:inline-block; padding-right:1em;"><span class="label" style="font-size: 0.7em; color: rgb(170, 170, 170);" padding-right="0.2em">Results&nbsp;</span><span><a href="ae-table/index.html">ae-table/index.html</a></span></div></div><div></div></div>
	<div class="code section">
		<h2>Code</h2>
		<pre><code class="hljs">&lt;!DOCTYPE html&gt;
&lt;html&gt;

    &lt;head&gt;
        &lt;meta
            http-equiv = 'Content-Type'
            content = 'text/html; charset = utf-8'&gt;

        &lt;title&gt;Safety Explorer Charts with Queries&lt;/title&gt;
        &lt;div id = 'title'&gt;Safety Explorer Charts with Queries&lt;/div&gt;

        &lt;script type = 'text/javascript'
            src = 'https://d3js.org/d3.v3.min.js'&gt;&lt;/script&gt;
        &lt;script type = 'text/javascript'
            src = 'https://cdn.rawgit.com/RhoInc/aeexplorer/v3.0.0/build/aeTable.js'&gt;&lt;/script&gt;

        &lt;link type = 'text/css'
            rel = 'stylesheet'
            href = 'https://cdn.rawgit.com/RhoInc/aeexplorer/v3.0.0/css/aeTable.css'&gt;
        &lt;link type = 'text/css'
            href = '../safetyExplorer.css'
            rel = 'stylesheet'&gt;

        &lt;ul class = 'nav nav-tabs'&gt;
            &lt;li role = 'presentation' class = 'active'&gt;&lt;a href = '../ae-table'&gt;AE Table&lt;/a&gt;&lt;/li&gt;
            &lt;li role = 'presentation'&gt;&lt;a href = '../ae-timelines'&gt;AE Timelines&lt;/a&gt;&lt;/li&gt;
            &lt;li role = 'presentation'&gt;&lt;a href = '../safety-results-over-time'&gt;Results over Time&lt;/a&gt;&lt;/li&gt;
            &lt;li role = 'presentation'&gt;&lt;a href = '../safety-histogram'&gt;Histogram&lt;/a&gt;&lt;/li&gt;
            &lt;li role = 'presentation'&gt;&lt;a href = '../safety-outlier-explorer'&gt;Outlier Explorer&lt;/a&gt;&lt;/li&gt;
            &lt;li role = 'presentation'&gt;&lt;a href = '../safety-shift-plot'&gt;Shift Plot&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/head&gt;

    &lt;body&gt;
        &lt;div class = 'safetyExplorerChart'
            id = 'ae-table'&gt;
            &lt;div class = 'header'&gt;&lt;/div&gt;
            &lt;div class = 'content'&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/body&gt;

    &lt;script&gt;
        const settings = {
        'variables': {
            'group': 'ARM',
            'filters': [
                { 'value_col': 'AESER', 'label': 'Serious?', 'type': 'event' }, 
                { 'value_col': 'AESEV', 'label': 'Severity','type': 'event' }, 
                { 'value_col': 'AEREL', 'label': 'Relationship','type': 'event' }, 
                { 'value_col': 'AEOUT','label': 'Outcome','type': 'event' }, 
                { 'value_col': 'SITEID', 'label': 'Site ID','type': 'participant' }, 
                { 'value_col': 'ARM', 'label': 'Arm','type': 'participant' },
                { 'value_col': 'SEX', 'label': 'Sex','type': 'participant' },
                { 'value_col': 'RACE', 'label': 'Race','type': 'participant' },
                { 'value_col': 'QUERYFL','label': 'Open Query?','type': 'event' }
            ]
        },
        'defaults': {
            'placeholderFlag': {'value_col': "AEBODSYS", 'values': [""] },
            'maxPrevalence': 10,
            'maxGroups': 7,
            'totalCol': true,
            'diffCol': true,
            'prefTerms': false 
        },
        'plotSettings': { 'h': 15,
            'w': 200,
            'margin': { 'left': 40, 'right': 40 },
            'diffMargin': { "left": 5, "right": 5 },
            'r': 7 }
        };


        d3.csv('../../0000-sample-data/safetyData-queries/ADAE.csv', function(data) {
            aeTable.createChart('#ae-table .content', settings)
                .init(data);
        });
    &lt;/script&gt;
&lt;/html&gt;
</code></pre>
	</div>	

</body></html>