<!DOCTYPE html>
<html>
    <head>
        <meta
            http-equiv = 'Content-Type'
            content = 'text/html; charset = utf-8'>  
        <title></title>
        <h1 id = 'title'></h1>

        <script type = 'text/javascript'
            src = 'https://d3js.org/d3.v3.min.js'></script>
        <script type = 'text/javascript'
            src = 'https://graphics.rhoworld.com/src/webcharts/webcharts.v1.6.1.js'></script>   
        <script type = 'text/javascript'
            src = 'webcodebook.js'></script>   
        <script type = 'text/javascript'
            src = 'spikeHistogram.js'></script>   

        <link type = 'text/css'
            rel = 'stylesheet'
            href = 'https://graphics.rhoworld.com/src/webcharts/webcharts.v1.6.1.css'>
        <link type = 'text/css'
            rel = 'stylesheet'
            href = 'webcodebook.css'>

        <style>
            @import url(http://fonts.googleapis.com/css?family=Open+Sans:400,300);
            * {
                padding: 0;
                margin: 0;
                font-family: 'Open Sans', Helvetica, Arial, sans-serif;
            }
            #title {
                width: 96%;
                margin: 2%;
                border-bottom: 1px solid lightgray;
                font-weight: lighter;
                font-size: 250%;
            }
            #container {
                width: 96%;
                margin: 0 2% 0 2%;
            }
        </style>
    </head>

    <body>
        <div id = 'container'>
        </div>
    </body>

    <script>
        let settings =
            {groups: ['Site', 'SEX', 'RACE', 'ARM', 'VISIT'].map(group => { return {value_col: group}; })
            ,filters: ['TEST', 'Site', 'SEX', 'RACE', 'ARM', 'VISIT'].map(filter => { return {value_col: filter}; })};

        d3.csv('ADBDS.csv', function(data) {
            data.forEach(d => {
                d.Site = `Site ${d.SITEID}`;
            });
            webcodebook.createChart('#container', settings).init(data);
        });
    </script>
</html>
