<!DOCTYPE html>
<html>
    <head>
        <meta
            http-equiv = 'Content-Type'
            content = 'text/html; charset = utf-8'>
        <title>Codebook</title>
        <h1 id = 'title'>Codebook</h1>

        <script type = 'text/javascript'
            src = 'https://d3js.org/d3.v3.min.js'></script>
        <script type = 'text/javascript'
            src = 'https://graphics.rhoworld.com/src/webcharts/webcharts.v1.6.1.js'></script>
        <script type = 'text/javascript'
            src = 'webcodebook.js'></script>

        <link type = 'text/css'
            rel = 'stylesheet'
            href = 'https://graphics.rhoworld.com/src/webcharts/webcharts.v1.6.1.css'>
        <link type = 'text/css'
            rel = 'stylesheet'
            href = 'webcodebook.css'>

        <style>
            @import url(https://fonts.googleapis.com/css?family=Open+Sans:400,300);

            * {
                padding: 0;
                margin: 0;
                font-family: 'Open Sans', Helvetica, Arial, sans-serif;
            }

            #title {
                width: 96%;
                margin: 2%;
                border-bottom: 1px solid lightgray;
                font-weight: lighter;
                font-size: 250%;
            }
            #container {
                width: 96%;
                margin: 0 2% 0 2%;
            }
            #container .chart {
                width: 100%;
                display: inline-block;
            }
        </style>
    </head>

    <body>
        <div id = 'container'>
            <div class = 'chart' id = ''>
                <div class = 'header'></div>
                <div class = 'content'></div>
            </div>
        </div>
    </body>

    <script>
        let settings =
            {groups: ['SITEID', 'SEX', 'RACE', 'ARM', 'SAFFL', 'VISIT']
                .map(group => { return {value_col: group}; })
            ,filters: ['TEST', 'SITEID', 'SEX', 'RACE', 'ARM', 'SAFFL', 'VISIT']
                .map(filter => { return {value_col: filter}; })};
        settings = {};
        d3.csv('DM.csv', function(data) {
            webcodebook
                .createChart('#container .chart .content', settings)
                .init(data);
        });
    </script>
</html>
